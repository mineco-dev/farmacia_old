<html>
<script language="javascript"> 


function conversion()
{ 
   var Telefono = document.datos.telefono.value; 
   var nuLongitud = Telefono.length;
   var i= 0;
   var bobandera = "TRUE";
   //var nuevoTelefono ="";

   document.datos.anterior.value = "";
   document.datos.resultado.value = "";

   for(i=0;i<nuLongitud-1;i++)
   {
      switch(Telefono.charAt(i))
      {
	 case '1': case '2': case '3':
	 case '4': case '5': case '6':
	 case '7': case '8': case '9': case '0':
		bobandera = "TRUE";
	 	break;
	 default:
		bobandera = "FALSE"
		i = nuLongitud;
      } //end switch           
   }//end for

   if(bobandera == "FALSE")   
   {
      alert("La informacion ingresada no es correcta");
   }

   if(nuLongitud == 7 && bobandera == "TRUE" )
   {
      //alert("entra long 7 y bandera true");
      if(Telefono.charAt(1) == '1' || Telefono.charAt(1) == '0' || Telefono.charAt(1) == '9' )
      {
	  nuevoTelefono = "5"; 
      }
      else
      {
	 //alert("entra telefno 1st digit");
	 switch(Telefono.charAt(0))
	 {
	    case '2': case '3': case '4':
		nuevoTelefono = "2";
		break;
	    case '5':
		nuevoTelefono = "5";
		break;
	    case '6':
		nuevoTelefono = "6";
		break;
	    case '7': case '8': case '9':
		nuevoTelefono = "7"
		break;
	    default:
		nuLongitud = 0;
	 }
      }
      nuevoTelefono += "-";
      nuevoTelefono += Telefono;
      document.datos.anterior.value = document.datos.telefono.value;
      document.datos.resultado.value = nuevoTelefono;	
   }//end if longitud bobandera
   
   if(nuLongitud != 7 && bobandera == "TRUE" )
   {
      alert("El numero de telefono no existe dentro del Rango Asignado");
   }

   document.datos.telefono.value = "";

}
</script> 
<head>
	<title>ASEGGYS - SISTEMA FARMACIA MINECO</title>
</head>

<body>
<table width="40%">
<tr>
<td align="center" style="font-size:100%;color:blue"> A-tel Communications, S.A. - Cambio a 8 Digitos </td>
</tr>
</table>
<div>
<form name="datos"> 
<table>
<tr>
<td></td>
<td>Numero de Telefono:</td>
<td><input type="Text" name="telefono" size="12"> </td>
</tr>
<tr>
<td></td>
<td></td>
<td><input type="Button" name="Convertir" value="Convertir" onclick="conversion()"> </td>
<!-input type="Button" name="Salir" value="Salir" !> 
</tr> 
<tr></tr>
<tr>
<td></td>
<td>Numero Anterior: </td>
<td><input type="Text" name="anterior" size="12"></td> 
</tr>
<tr>
<td></td>
<td>Nuevo Numero: </td>
<td><input type="Text" name="resultado" size="12"></td> 
</tr>
</table>
</form> 

</body>
</html>



